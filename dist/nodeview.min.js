!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Graph2D=e()}}(function(){return function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){function o(e,t,n){var o=t[0]-e[0],r=t[1]-e[1],i=Math.sqrt(o*o+r*r);if(0===i)return[0,0];var a=Math.atan(r/o),s=1;return 0>o&&(s=-1),[Math.cos(a)*n*s,Math.sin(a)*n*s]}t.exports=function(e,t,n){e.forEach(function(r){var i=[0,0];e.forEach(function(e){var a={};r.isLinkedWith(e)&&(a.$linkData=r.getLinkData(e));var s=t({pos:r.getPosition(),mass:r.getRadius(),node:r},{pos:e.getPosition(),mass:e.getRadius(),node:e},a)*n,u=o(r.getPosition(),e.getPosition(),s);i[0]+=u[0],i[1]+=u[1]});var a=t({pos:r.getPosition(),mass:r.getRadius(),node:r},{pos:[0,0],mass:2*r.getRadius(),group:!0},{$groupPos:!0})*n,s=o(r.getPosition(),[0,0],a);i[0]+=5*s[0],i[1]+=5*s[1],r.accelerate(i[0],i[1])})}},{}],2:[function(e,t,n){t.exports=function(e){var t=this;t.graph=e;var n=[];t.createNode=function(o){o.position=[0,0];var r=t.graph.createNode(o);return n.push(r),e.disableNode(r),r};var o=function(e,t,n,r,i,a){if(e.setPosition(n),0!==a[e.getId()].children.length){var s=0;a[e.getId()].children.forEach(function(e){s+=e.getRadius()});var u=r;a[e.getId()].children.forEach(function(e){var n=(i-r)*(e.getRadius()/s),d=2*e.getRadius(),c=d/n,l=c*Math.cos(u+n/2)+t[0],f=c*Math.sin(u+n/2)+t[1];o(e,t,[l,f],u,u+n,a),u+=n})}};t.flush=function(){var e=Date.now();nodeswMeta={},nodesNotGonnaTry=[],nodesWithNoParents=[],n.forEach(function(e){var t=[],n=[];e.getLinks().forEach(function(o){o.linkData.$directedTowards&&(o.linkData.$directedTowards.getId()===e.getId()?t.push(o.linkData.$directedTowards):n.push(o.linkData.$directedTowards))}),t.length>1?nodesNotGonnaTry.push(e):0===t.length&&(nodesWithNoParents.push(e),t=null),nodeswMeta[e.getId()]={node:e,children:n,parent:t}}),nodesWithNoParents.forEach(function(e){o(e,[0,0],[0,0],0,2*Math.PI,nodeswMeta)}),n.forEach(function(e){t.graph.enableNode(e)}),console.log("Took "+(Date.now()-e)+" miliseconds to place "+n.length+" nodes")},t.clear=function(){n.forEach(function(e){t.graph.destroyNode(e)});var e=n.length;return n=[],e}}},{}],3:[function(e,t,n){t.exports=function(e,t,n){var o=n;void 0!==o&&null!==o||(o={});var r=e.pos,i=t.pos,a=e.mass,s=t.mass,u=i[0]-r[0],d=i[1]-r[1],c=Math.sqrt(u*u+d*d),l=Math.abs(a*s),f=l/(c*c)*1.1;return a+s>c&&(f*=-3.5),o.$groupPos&&(f=.05),f}},{}],4:[function(e,t,n){t.exports=function(e){var t=[null,null,null,null];return e.forEach(function(e){t=r(e,t)}),t};var o=function(e,t){for(var n=0;n<t.length;n++)if(null===t[n])return!1;var o=e.getPosition()[0],r=e.getPosition()[1],i=e.getRadius();return t[0]>o-i?!1:t[0]+t[2]<o+i?!1:t[1]>r-i?!1:!(t[1]+t[3]<r+i)},r=function(e,t){if(o(e,t))return t;for(var n=0;n<t.length;n++)if(null===t[n]){var r=e.getRadius();return[e.getPosition()[0]-r/2,e.getPosition()[1]-r/2,r,r]}var i=e.getPosition()[0],a=e.getPosition()[1],r=e.getRadius();if(t[0]>i-r){var s=i-r;t[2]+=Math.abs(t[0]-s),t[0]=s}return t[0]+t[2]<i+r&&(t[2]=i+r-t[0]),t[1]>a-r&&(t[3]+=Math.abs(a-r-t[1]),t[1]=a-r),t[1]+t[3]<a+r&&(t[3]=a+r-t[1]),t}},{}],5:[function(e,t,n){function o(e,t,n){for(var o=0;o<e.length;o++){var r=e[o].getPosition(),i=Math.sqrt(Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2));if(n>i)return!1}return!0}var r=e("../Util/GetCanvasSize"),i=e("./GetNodeCenter");t.exports=function(e,t){var n=t.getNodes();if(0===n.length){var a=r(t),s=[a[0]/2,a[1]/2];return[s[0]*(1/t.getScale()),s[1]*(1/t.getScale())]}for(var u=i(n),d=e/4,c=0;1e4>c;){var l=2*c;0===c&&(l=1);for(var f=[],g=[],h=[],v=[],p=(c+.5)*d,m=[u[0]-p,u[1]-p],y=[u[0]+p,u[1]-p],x=[u[0]-p,u[1]+p],N=[u[0]+p,u[1]+p],P=0;l>P;P++)f.push([m[0],m[1]+d*P]),g.push([N[0],N[1]-d*P]),h.push([y[0]-d*P,y[1]]),v.push([x[0]+d*P,x[1]]);for(var D=f.concat(g).concat(h).concat(v),P=0;P<D.length;P++)if(o(n,D[P],e))return D[P];c++}return console.log("Failure to find place! Sorry dude."),[0,0]}},{"../Util/GetCanvasSize":20,"./GetNodeCenter":6}],6:[function(e,t,n){t.exports=function(e){var t=[0,0],n=[0,0];return e.forEach(function(e){n[0]+=e.getPosition()[0],n[1]+=e.getPosition()[1]}),t[0]=n[0]/e.length,t[1]=n[1]/e.length,t}},{}],7:[function(e,t,n){t.exports=function(e,t){var n=null,o=1e7;return t.forEach(function(t){var r=t.distanceFrom(e);o>r&&(n=t,o=r)}),n}},{}],8:[function(e,t,n){"use strict";function o(t){var n=this,o=1,v=0,p=0,m=[],y=[],x=new r;n.setOption=function(e,t){x.setOption(e,t)},n.nodeDecelerationConstant=x.nodeDecelerationConstant,n.maxNodeSpeed=x.maxNodeSpeed;var N=[],P=null,D=e("../Rendering/DefaultLinkRender");n.nodesAreLinked=function(e,t){return e.isLinkedWith(t)},n.setLinkRenderMethod=function(e){return"function"!=typeof e?void console.error("Failure to set Link Render Method!                            Arguement must be typeof function!"):4!==e.length?void console.error("Failure to set Link Render Method!                            Method's arguement length must be 4 so it                           can be passed the graph being rendered, node 1                           position on canvas, node 2 position on canvas, and                           any link data associated with them!"):void(D=e)},n.setBackgroundRenderMethod=function(e){return"function"!=typeof e?void console.error("Failure to set Background Render Method!                            Arguement must be typeof function!"):1!==e.length?void console.error("Failure to set Background Render Method!                            Method's arguement length must be 1 so it                           can be passed the graph being rendered!"):void(P=e)};var b=e("../Util/MouseToGraphCoordinates"),k=null;n.getContext=function(){return k};var w="free",M=null,R=null,C=function(e){return R=e,"dragging"===w?("node"===M.itemType&&l(M.item),M=null,void(w="free")):(m.forEach(function(t){S(t,b(e,n))&&t.onclick(t)}),void(w="free"))},S=function(e,t){return null===e.getClickDetectionFunction()?$(e,n,[t.x,t.y]):e.wasClicked(n,[t.x,t.y])},T=function(e){R=e;var t=b(e,n);w="hold",m.forEach(function(e){var n=S(e,t);n&&(M={item:e,itemPos:e.getPosition(),mousePos:[t.x,t.y],itemType:"node"})}),null===M&&(M={item:n,itemPos:n.getPosition(),mousePos:[t.x,t.y],itemType:"graph"})},E=function(e){null!==M&&"node"===M.itemType&&(l(M.item),g(M.item)),R=null,M=null,"dragging"===w&&(w="free")},F=function(e){if(R=e,"hold"===w&&(w="dragging","node"===M.itemType&&c(M.item)),"dragging"===w){var t=M.itemPos,r=M.mousePos;if("node"===M.itemType){var i=b(e,n);M.item.setPosition(i.x+(t[0]-r[0]),i.y+(t[1]-r[1]))}if("graph"===M.itemType){var i=n.getContext().canvas.relMouseCoords(e),a=i.x/o,s=i.y/o;M.item.setPosition(a-r[0],s-r[1])}}},L=function(e){var t=b(e,n);m.forEach(function(e){S(e,t)&&e.ondoubleclick(e)})},G=function(e){e.addEventListener("mouseup",function(e){C(e)}),e.addEventListener("mousedown",function(e){T(e)}),e.addEventListener("mouseout",function(e){E(e)}),e.addEventListener("mousemove",function(e){F(e)}),e.addEventListener("mousewheel",function(e){d(e,n)}),e.addEventListener("dblclick",function(e){L(e)})};null!==t&&void 0!==t&&(k=t.getContext("2d"),G(t)),n.kruskalsPath=function(e,t){throw"not yet implemented!"},n.getNodes=function(){return m},n.clearLinks=function(){m.forEach(function(e){e.clearLinks()}),N=[]},n.clearNodes=function(){m=[],n.clearLinks()},n.destroyNode=function(e){if(!e)return!1;for(var t=0;t<m.length;t++)if(m[t].getId()===e.getId())return m.splice(t,1),!0;for(var t=0;t<m.length;t++)if(m[t].getId()===e.getId())return m.splice(t,1),!0;return!1},n.disableNode=function(e){if(!e)return!1;for(var t=0;t<m.length;t++)if(m[t].getId()===e.getId())return y.push(m[t]),m[t].setEnabled(!1),m.splice(t,1),!0;return!1},n.enableNode=function(e){if(!e)return!1;for(var t=0;t<y.length;t++)if(y[t].getId()===e.getId())return m.push(y[t]),y[t].setEnabled(!0),y.splice(t,1),!0;return!1};var O=e("./BatchPlacement"),B=new O(n);n.batchCreateNode=B.createNode,n.batchClear=B.clear,n.batchFlush=B.flush,n.getNodeClosestToPoint=function(e,t){return e?t?h(e,t):h(e,m):null},n.getPosition=function(){return[v,p]},n.setPosition=function(e,t){if(!a.isNumeric(e))throw"Failed to set graph position!  Invalid x value: "+e;if(!a.isNumeric(t))throw"Failed to set graph position!  Invalid y value: "+t;v=e,p=t},n.getScale=function(){return o},n.setScale=function(e){"number"!=typeof e||0>=e||(o=e)};var A=function(e){var t=o;if(u(n)[0]<u(n)[1]){var r=e[2],i=u(n)[0];t=i/r}else{var a=e[3],s=u(n)[1];t=s/a}var d=t-o;o+=.1*d};n.getBoundsFromNodes=e("./GetBoundsFromNodes");var I=e("../Rendering/DefaultNodeRender"),$=function(e,t,n){return e.distanceFrom(n)<=.8*e.getRadius()};n.setDefaultNodeRenderAndMouseDetection=function(e,t){return"function"!=typeof e?void console.error("Failure to set Node Render Method!                            Arguement must be a function!"):3!==e.length?void console.error("Failure to set Node Render Method!                            Method's arguement length must be 3 so it                           can be passed the node, it's position, and graph being rendered!"):"function"!=typeof t?void console.error("Failure to set Node Click Detection Method!                            Arguement must be a function!"):3!==t.length?void console.error("Failure to set Node Render Method!                            Method's arguement length must be 2 so it                           can be passed the node and graph being rendered!"):(I=e,void($=t))},n.createNode=function(e){var t=s(e,n);return m.push(t),t},n.linkNodes=function(e,t,n){if(!e)throw"Failure to link! The first node passed in to link was: "+e;if(!t)throw"Failure to link! The second node passed in to link was: "+t;if(e.isLinkedWith(t))throw"Nodes are already linked!";e.addLink(t,n),t.addLink(e,n);var o={nodes:[e,t],linkData:n};return N.push(o),o},n.setNodeAttractionMethod=function(e){return"function"!=typeof e?void console.error("Failure to set Node Attraction Method!                            Arguement must be typeof function!"):3!==e.length?void console.error("Failure to set Node Attraction Method!                            Method's arguement length must be 3 so it                           can be passed the two nodes being rendered and any                           data associated with them!!"):void(U=e)};var U=e("./DefaultNodeAttraction"),q=[];n.postRender=function(e){if("function"!=typeof e)throw"Post render only accepts functions!";q.push(e)},n.centerOverNodes=function(e,t){};var K=function(){if(m&&0!==m.length){var e=n.getBoundsFromNodes(m);A(e);var t=[e[0]+e[2]/2,e[1]+e[3]/2],r=u(n),i=[r[0]/o/2-t[0],r[1]/o/2-t[1]],a=[i[0]-v,i[1]-p];v+=.1*a[0],p+=.1*a[1]}},W=function(e){S(e,b(R,n))?e.getRenderData().$mouseOver||f(e):e.getRenderData().$mouseOver&&g(e)},z=function(){k.canvas.width=k.canvas.offsetWidth,k.canvas.height=k.canvas.offsetHeight,k.clearRect(0,0,k.canvas.width,k.canvas.height),null!==P&&void 0!==P&&P(n),m.forEach(function(e){e.getChildren().forEach(function(t){var r=n.getContext();r.beginPath(),r.moveTo((e.getPosition()[0]+v)*o,(e.getPosition()[1]+p)*o),r.lineTo((t.getPosition()[0]+v)*o,(t.getPosition()[1]+p)*o),r.stroke()})}),N.forEach(function(e){if(e.nodes[0].enabled()&&e.nodes[1].enabled()){var t=[(e.nodes[0].getPosition()[0]+v)*o,(e.nodes[0].getPosition()[1]+p)*o],r=[(e.nodes[1].getPosition()[0]+v)*o,(e.nodes[1].getPosition()[1]+p)*o];if(null!==D&&void 0!==D)return void D(n,t,r,e);var i=n.getContext();i.beginPath(),i.moveTo(t[0],t[1]),i.lineTo(r[0],r[1]),i.stroke()}}),x.applyGravity()&&i(m,U,x.nodeGravityConstant()),m.forEach(function(e){var t=!1;x.applyTranslation()&&(t=e.translate((Date.now()-H)/1e3)),null!==R&&(x.applyGravity()&&x.applyTranslation()?t&&W(e):W(e));var o=n.getPosition(),r=n.getScale(),i=[(e.getPosition()[0]+o[0])*r,(e.getPosition()[1]+o[1])*r];null!==e.getRenderFunction()&&void 0!==e.getRenderFunction()?e.render(e,i,n):I(e,i,n)}),q.forEach(function(e){e()}),q=[],!x.centerOnNodes()||M&&"graph"===M.itemType||K(),H=Date.now(),window.requestAnimationFrame(z)},H=Date.now();z()}t.exports=o;var r=e("./GraphOptions"),i=e("./ApplyGravityOnNodes"),a=e("../Util"),s=e("./SetupNode"),u=e("../Util/GetCanvasSize"),d=e("./ScaleForScrollEvent"),c=e("./SetNodeAsBeingDragged"),l=e("./SetNodeNotBeingDragged"),f=e("./SetNodeAsHovered"),g=e("./SetNodeAsNotHovered"),h=e("./GetNodeClosestToPoint");a.init()},{"../Rendering/DefaultLinkRender":17,"../Rendering/DefaultNodeRender":18,"../Util":19,"../Util/GetCanvasSize":20,"../Util/MouseToGraphCoordinates":21,"./ApplyGravityOnNodes":1,"./BatchPlacement":2,"./DefaultNodeAttraction":3,"./GetBoundsFromNodes":4,"./GetNodeClosestToPoint":7,"./GraphOptions":9,"./ScaleForScrollEvent":10,"./SetNodeAsBeingDragged":11,"./SetNodeAsHovered":12,"./SetNodeAsNotHovered":13,"./SetNodeNotBeingDragged":14,"./SetupNode":15}],9:[function(e,t,n){function o(){var e=this,t={centerOnNodes:{value:!0,constructor:Boolean},applyGravity:{value:!0,constructor:Boolean},applyTranslation:{value:!0,constructor:Boolean},maxNodeSpeed:{value:3e4,constructor:Number},nodeDecelerationConstant:{value:2,constructor:Number},nodeGravityConstant:{value:1,constructor:Number}};e.setOption=function(e,n){if("string"!=typeof e)throw e;try{if(t[e].constructor!==n.constructor)throw t[e].constructor,n.constructor;t[e].value=n}catch(o){throw o}},e.applyGravity=function(){return t.applyGravity.value},e.applyTranslation=function(){return t.applyTranslation.value},e.centerOnNodes=function(){return t.centerOnNodes.value},e.maxNodeSpeed=function(){return t.maxNodeSpeed.value},e.nodeDecelerationConstant=function(){return t.nodeDecelerationConstant.value},e.nodeGravityConstant=function(){return t.nodeGravityConstant.value}}t.exports=o},{}],10:[function(e,t,n){var o=e("../Util/GetCanvasSize");t.exports=function(e,t){var n=t.getScale(),r=n,i=0;i=e.deltaY>0?-.05:.05,r+=i*r;var a=o(t),s=[a[0]*(1/n)*.5,a[1]*(1/n)*.5],u=[a[0]*(1/r)*.5,a[1]*(1/r)*.5],d=t.getPosition();t.setPosition(d[0]+(u[0]-s[0]),d[1]+(u[1]-s[1])),t.setScale(r)}},{"../Util/GetCanvasSize":20}],11:[function(e,t,n){t.exports=function(e){e.setRenderDataByKey("$beingDragged",!0),e.setVelocity(0,0);for(var t=e.getLinks(),n=0;n<t.length;n++)t[n].node.setRenderDataByKey("$neighborBeingDragged",!0)}},{}],12:[function(e,t,n){t.exports=function(e){if(!e.getRenderData().$mouseOver){e.setRenderDataByKey("$mouseOver",!0);for(var t=e.getLinks(),n=0;n<t.length;n++)t[n].node.setRenderDataByKey("$neighborMouseOver",!0)}}},{}],13:[function(e,t,n){t.exports=function(e){e.setRenderDataByKey("$mouseOver",!1);for(var t=e.getLinks(),n=0;n<t.length;n++)t[n].node.setRenderDataByKey("$neighborMouseOver",!1)}},{}],14:[function(e,t,n){t.exports=function(e){e.setRenderDataByKey("$beingDragged",!1);for(var t=e.getLinks(),n=0;n<t.length;n++)t[n].node.setRenderDataByKey("$neighborBeingDragged",!1)}},{}],15:[function(e,t,n){var o=e("../Node2D"),r=e("./GetFreeSpace");t.exports=function(e,t){var n=new o(t);e&&e.renderData?Object.keys(e.renderData).forEach(function(t,o){n.setRenderDataByKey(t,e.renderData[t])}):n.setRenderDataByKey("color","#000000");var i=70;return e&&e.radius&&(i=e.radius),n.setRadius(i),e&&e.position?n.setPosition(e.position):e&&e.freeSpace?n.setPosition(r(e.freeSpace,t)):n.setPosition(r(4*i,t)),n}},{"../Node2D":16,"./GetFreeSpace":5}],16:[function(e,t,n){"use strict";function o(e){function t(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)});return t}var n=this;if(!e)throw"Error creating Node. A node needs to know what graph it's apart of.";var o=e,r={$mouseOver:!1,$beingDragged:!1},i=0,a=0,s=[],u=null,d=[],c=null,l=1,f=[0,0],g=!0;n.enabled=function(){return g},n.setEnabled=function(e){g=e};var h=t();n.getId=function(){return h},n.getGroupId=function(){return c},n.setVelocity=function(e,t){f=[e,t]},n.accelerate=function(e,t){var n=o.maxNodeSpeed();f[0]=Math.max(Math.min(n,f[0]+e),-n),f[1]=Math.max(Math.min(n,f[1]+t),-n)};var v=function(e){var t=f[0]>0?-1:1,n=f[1]>0?-1:1;f[0]+=Math.sqrt(Math.abs(f[0]))*e*t*o.nodeDecelerationConstant(),f[1]+=Math.sqrt(Math.abs(f[1]))*e*n*o.nodeDecelerationConstant()};n.translate=function(e){return 0===f[0]&&0===f[1]?!1:(i+=f[0]*e,a+=f[1]*e,v(e),!0)},n.distanceFrom=function(e,t){return e.constructor===Array&&(t=e[1],e=e[0]),Math.sqrt(Math.pow(e-i,2)+Math.pow(t-a,2))},n.setRadius=function(e){l=e},n.getRadius=function(){return l},n.onclick=function(){console.log("Clicked")},n.ondoubleclick=function(){console.log("Clicked")};var p=null,m=null;n.setRenderDataByKey=function(e,t){r[e]=t},n.getRenderData=function(){return r},n.wasClicked=function(e,t){if(console.log("detection: ",m),null!==m&&void 0!==m){var o=m(n,e,t);if(o===!0||o===!1)return o}return!1},n.setRenderFunction=function(e,t){if(null===e)throw"Error setting render funciton for Node! Attempting to add a null render method";if(null===t)throw"Error setting render funciton for Node! Attempting to add a null click detection method";p=e,m=t},n.getRenderFunction=function(){return p},n.getClickDetectionFunction=function(){return m},n.render=function(e,t,n){if(null===p)throw"Failure to render node! There's no render function defined!";p(e,t,n)},n.getPosition=function(){return[i,a]},n.setPosition=function(e,t){return e.constructor===Array?(i=e[0],void(a=e[1])):(i=e,void(a=t))},n.addLink=function(e,t){if(null===e||void 0===e)throw"Failure to link node!  Link node was: "+e;d.push({node:e,linkData:t})},n.getLinks=function(){return d},n.isLinkedWith=function(e){for(var t=0;t<d.length;t++)if(d[t].node.getId()===e.getId())return!0;return!1},n.getLinkData=function(e){for(var t=0;t<d.length;t++)if(d[t].node.getId()===e.getId())return d[t].node;return null},n.clearLinks=function(){d=[]},n.setParent=function(e){null!==u&&void 0!==u&&u.removeChild(n),u=e,-1===u.getChildren().indexOf(n)&&u.addChild(n)},n.getParent=function(){return u},n.addChild=function(e){return-1!==s.indexOf(e)?void console.log("We already have that node as a child; ",e):(s.push(e),void(e.getParent()!==n&&e.setParent(n)))},n.getChildren=function(){return s},n.removeChild=function(e){var t=s.indexOf(e);if(-1===t)throw"Failure to remove child! Trying to remove a child we don't have!";s.splice(t,1)}}t.exports=o},{}],17:[function(e,t,n){t.exports=function(e,t,n,o){var r=e.getContext();r.strokeStyle="#000",r.lineWidth=3*e.getScale(),r.beginPath(),r.moveTo(t[0],t[1]),r.lineTo(n[0],n[1]),r.stroke()}},{}],18:[function(e,t,n){t.exports=function(e,t,n){var o=e.getRenderData().color;o||(o="#777777");var r=n.getContext();r.fillStyle=o,r.beginPath(),r.arc(t[0],t[1],e.getRadius()*n.getScale()*.8,0,2*Math.PI),r.fill(),e.getRenderData().$mouseOver&&(r.fillStyle="black",r.beginPath(),r.arc(t[0],t[1],e.getRadius()*n.getScale()*.8*.5,0,2*Math.PI),r.fill()),e.getRenderData().$beingDragged&&(r.fillStyle="white",r.beginPath(),r.arc(t[0],t[1],e.getRadius()*n.getScale()*.8*.3,0,2*Math.PI),r.fill()),(e.getRenderData().$mouseOver||e.getRenderData().$neighborMouseOver)&&n.postRender(function(){r.font="16px Monospace";var n=r.measureText(e.getRenderData().name);r.fillStyle=o,r.lineWidth=2,r.fillRect(t[0]-70-n.width,t[1]-95-20,n.width+40,40),r.strokeStyle=o,r.beginPath(),r.moveTo(t[0],t[1]),r.lineTo(t[0],t[1]-95),r.lineTo(t[0]-50,t[1]-95),r.stroke(),r.fillStyle="black",r.fillText(e.getRenderData().name,t[0]-50-n.width,t[1]-95)})}},{}],19:[function(e,t,n){t.exports={init:function(){function e(e){var t=this.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),r=o.length>>>0;if(0===r)return-1;if(n=+t||0,1/0===Math.abs(n)&&(n=0),n>=r)return-1;for(n=Math.max(n>=0?n:r-Math.abs(n),0);r>n;){if(n in o&&o[n]===e)return n;n++}return-1}),HTMLCanvasElement.prototype.relMouseCoords=e},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}}},{}],20:[function(e,t,n){t.exports=function(e){return[e.getContext().canvas.width,e.getContext().canvas.height]}},{}],21:[function(e,t,n){t.exports=function(e,t){var n=t.getContext().canvas.relMouseCoords(e),o=t.getScale(),r=t.getPosition(),i=n.x/o-r[0],a=n.y/o-r[1];return{x:i,y:a}}},{}]},{},[8])(8)});